{"pageProps":{"id":"5","title":"路由","prev":{"id":4,"title":"服务端渲染组件 & 客户端渲染组件"},"next":{"id":6,"title":"React 生命周期"},"md":{"data":"# 使用路由\r\n\r\n客户端使用路由的方式跟React中一样\r\n\r\n**而服务端需要使用```StaticRouter```组件**:\r\n- location 是```req.path```,当前请求的资源路径,用于路由的匹配\r\n- context 传递到组件中是一个```staticContext```属性,**可以通过它给响应对象通信**\r\n\r\n```js\r\n<StaticRouter location={location} context={context}>\r\n  <ReactApp />\r\n</StaticRouter>\r\n```\r\n\r\n## 使用一个路由配置文件:\r\n\r\n```js\r\n/* routerConfig.js */\r\nimport Front from '@/pages/Front'\r\nimport Home from '@/pages/Home'\r\n// ...\r\n\r\nexport default [\r\n  {\r\n    path: '/admin',\r\n    key: 'adminIndex',\r\n    component: Admin,\r\n    routes: [\r\n      {\r\n        path: '/admin',\r\n        key: 'adminHome',\r\n        exact: true,\r\n        component: AdminHome,\r\n      }]\r\n  }, \r\n  {\r\n    path: '/',\r\n    key:'index',\r\n    component: Front,\r\n    routes: [\r\n      {\r\n        key:'home',\r\n        path: '/',\r\n        exact: true,\r\n        component: Home\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nkey 其实可加可不加,使用了第三方库```react-router-config```,**会自动加上 key 和 Switch 组件**\r\n\r\n```js\r\n/* ReactApp.jsx */\r\nimport { renderRoutes } from 'react-router-config'\r\nimport routes from './routerConfig'\r\n// ...\r\nexport default function ReactApp() {\r\n  return <>{renderRoutes(routes)}</>\r\n}\r\n```\r\n\r\n## 多级路由\r\n- **使用多级路由时,一定要注意```\"/\"```路径的以及相关首页的匹配**\r\n\r\n- 因为```react-router-config```会自动加上 Switch 组件,**一定要注意```exact```属性**"}},"__N_SSG":true}